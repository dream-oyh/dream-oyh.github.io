import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as s,o as e,e as t}from"./app-C4IrNw55.js";const a={},n=t(`<h1 id="linux" tabindex="-1"><a class="header-anchor" href="#linux"><span>Linux</span></a></h1><p>我对 Linux 的了解不深，甚至可以说只知道<code>sudo</code>在命令行提权，其他都没有做很深入的了解，目前我电脑上搭载的是 win 和 kubuntu 的双系统，之前在安装正统 ubuntu 的时候出现了极大的困难（读取不到显卡导致屏幕亮度无法调暗，极其影响使用体验）最后在朋友的帮助下安装了<code>kubuntu</code>。但是由于之前只分配了 40G 的内存，现在 linux 内存告急，以扩容为契机，我准备系统学习一下 linux 操作系统，所以也就新增了这个版块。</p><h2 id="学习资料" tabindex="-1"><a class="header-anchor" href="#学习资料"><span>学习资料</span></a></h2><p>在一个野生计算机学习者面前，目前我有的最详尽的资料就是<a href="https://absx.pages.dev/articles/linux" target="_blank" rel="noopener noreferrer">绝对值_x 博客里的 Linux 介绍</a></p><p>有关计算机存储，可以看看<a href="https://blog.csdn.net/weixin_43764974/article/details/132463833" target="_blank" rel="noopener noreferrer">这篇文章</a></p><h2 id="_2024-02-21-对扩容的第一次尝试" tabindex="-1"><a class="header-anchor" href="#_2024-02-21-对扩容的第一次尝试"><span>2024/02/21 对扩容的第一次尝试</span></a></h2><div class="hint-container tip"><p class="hint-container-title">前置知识</p><ol><li>我的 ubuntu 搭载了 btrfs 作为文件系统，文件系统是一种用于向用户提供底层数据访问的机制，只有添加文件系统后，磁盘分区才可以被识别和挂载；windows 用的文件系统一般为 ntfs</li><li>为分区添加文件系统的过程被称作“格式化”，该过程会清空磁盘内所有的文件数据</li><li>“挂载”的意思是，将一个文件系统与一个目录关联起来，这样用户就可以通过访问该目录来访问该文件系统</li><li>磁盘分区被挂载后，linux 系统会在<code>/dev/</code>路径下添加一个文件，这个文件被叫做“设备”，也就是说<code>/dev/</code>文件夹下所存储的文件都是被 linux 识别到的设备</li></ol></div><h3 id="基本命令" tabindex="-1"><a class="header-anchor" href="#基本命令"><span>基本命令</span></a></h3><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">btrfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> filesystem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --mounted</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> #查看已经挂载的btrfs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sdb</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  # 挂载btrfs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">umount</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">  # 卸载btrfs</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">btrfs</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> filesystem</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> resize</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> max</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /mnt</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> # 扩容命令，把/mnt挂载点对应分区扩容到最大</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"># 磁盘读取操作</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parted</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> # 会显示磁盘分区的起始点和结束点、大小和文件系统</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -hT</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> # 显示设备名称、类型、大小、已用存储、挂载点</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fdisk</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> # 列出所有已格式化的分区</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="扩容思路" tabindex="-1"><a class="header-anchor" href="#扩容思路"><span>扩容思路</span></a></h3><p>先从 windows 系统中压缩卷，腾出 10G 未格式化分区，然后通过<code>btrfs filesystem resize max /mnt</code>让 btrfs 自行寻找未格式化分区，并扩容。</p><p>但是这个思路失败了，终端返回了<code>Resize device id 1 from 40.00GB to max</code>，但是实际容量并没有增大，询问 GPT 后，发现了<a href="https://zhuanlan.zhihu.com/p/621029482" target="_blank" rel="noopener noreferrer"> Gparted for linux 磁盘管理工具 </a>，可以通过 linux 包管理器来安装：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt-get</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> gparted</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>打开 gparted 后，就可以以可视化的方式管理磁盘空间，右键分区，选择“resize/move”，就可以将分区扩容到最大。</p><details class="hint-container details"><summary>READ-ONLY 无法 resize 问题</summary><p>点击<code>resize/move</code>后，系统提示该分区处于<code>read-only</code>状态，不可扩容，解决方法是：</p><p>右键该分区，点击属性，查看挂载点（注意一个分区可能有多个挂载点，像我就是挂到了<code>/</code> <code>/home</code> 还有一串和火狐有关的很复杂的挂载点，现在需要将所有点的挂载模式都改为<code>read-write</code></p><p>修改指令为：</p><div class="language-sh line-numbers-mode" data-highlighter="shiki" data-ext="sh" data-title="sh" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mount</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> remount,rw</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mouont</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> di</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">r&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>&lt;mount dir&gt;</code>需要输入磁盘挂载点，并且可以通过<code>mount</code>命令查看磁盘设备的挂载模式。</p></details><p>在解决完上述问题后，<code>resize/move</code>可以正常运行，但是仍然无法扩容，原因在于未格式化分区在 ubuntu 系统分区的左侧，gparted 无法支持向左扩容。也因如此，第一次扩容尝试失败了，下次有机会再试试。</p>`,16),l=[n];function h(r,d){return e(),s("div",null,l)}const k=i(a,[["render",h],["__file","Linux.html.vue"]]),c=JSON.parse('{"path":"/code/Linux.html","title":"Linux","lang":"zh-CN","frontmatter":{"date":"2024-02-20T00:00:00.000Z","icon":"linux","category":["计算机","底层"],"tag":"笔记","description":"Linux 我对 Linux 的了解不深，甚至可以说只知道sudo在命令行提权，其他都没有做很深入的了解，目前我电脑上搭载的是 win 和 kubuntu 的双系统，之前在安装正统 ubuntu 的时候出现了极大的困难（读取不到显卡导致屏幕亮度无法调暗，极其影响使用体验）最后在朋友的帮助下安装了kubuntu。但是由于之前只分配了 40G 的内存，现在...","head":[["meta",{"property":"og:url","content":"https://dream-oyh.github.io/code/Linux.html"}],["meta",{"property":"og:site_name","content":"Dream_oyh 的 blog"}],["meta",{"property":"og:title","content":"Linux"}],["meta",{"property":"og:description","content":"Linux 我对 Linux 的了解不深，甚至可以说只知道sudo在命令行提权，其他都没有做很深入的了解，目前我电脑上搭载的是 win 和 kubuntu 的双系统，之前在安装正统 ubuntu 的时候出现了极大的困难（读取不到显卡导致屏幕亮度无法调暗，极其影响使用体验）最后在朋友的帮助下安装了kubuntu。但是由于之前只分配了 40G 的内存，现在..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-25T09:30:41.000Z"}],["meta",{"property":"article:author","content":"OYH"}],["meta",{"property":"article:tag","content":"笔记"}],["meta",{"property":"article:published_time","content":"2024-02-20T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-25T09:30:41.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-02-20T00:00:00.000Z\\",\\"dateModified\\":\\"2024-02-25T09:30:41.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"OYH\\",\\"email\\":\\"19859860010@163.com\\"}]}"]]},"headers":[{"level":2,"title":"学习资料","slug":"学习资料","link":"#学习资料","children":[]},{"level":2,"title":"2024/02/21 对扩容的第一次尝试","slug":"_2024-02-21-对扩容的第一次尝试","link":"#_2024-02-21-对扩容的第一次尝试","children":[{"level":3,"title":"基本命令","slug":"基本命令","link":"#基本命令","children":[]},{"level":3,"title":"扩容思路","slug":"扩容思路","link":"#扩容思路","children":[]}]}],"git":{"createdTime":1708434297000,"updatedTime":1708853441000,"contributors":[{"name":"dream_linux","email":"1399541701@qq.com","commits":2}]},"readingTime":{"minutes":3.16,"words":948},"filePathRelative":"code/Linux.md","localizedDate":"2024年2月20日","excerpt":"\\n<p>我对 Linux 的了解不深，甚至可以说只知道<code>sudo</code>在命令行提权，其他都没有做很深入的了解，目前我电脑上搭载的是 win 和 kubuntu 的双系统，之前在安装正统 ubuntu 的时候出现了极大的困难（读取不到显卡导致屏幕亮度无法调暗，极其影响使用体验）最后在朋友的帮助下安装了<code>kubuntu</code>。但是由于之前只分配了 40G 的内存，现在 linux 内存告急，以扩容为契机，我准备系统学习一下 linux 操作系统，所以也就新增了这个版块。</p>\\n<h2>学习资料</h2>\\n<p>在一个野生计算机学习者面前，目前我有的最详尽的资料就是<a href=\\"https://absx.pages.dev/articles/linux\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">绝对值_x 博客里的 Linux 介绍</a></p>","autoDesc":true}');export{k as comp,c as data};

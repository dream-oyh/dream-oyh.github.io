import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as o,e as n}from"./app-B5yLcklx.js";const t={},l=n(`<h1 id="localaugment" tabindex="-1"><a class="header-anchor" href="#localaugment"><span>LocalAugment</span></a></h1><p>本 python 包用于深度学习的数据增强。不同于 <code>torchvision.transforms()</code>转换器，<code>LocalAugment</code> 提供在本地进行图像增强，并将增强后的图像保存在本地，以便于之后加入数据集中。</p><p>除此之外，<code>LocalAugment</code>在对图像变换的同时能够记录下数据集标签变换后的位置与大小，数据集标签采用矩形框中心点与长宽的定位模式，能够保证图像在经过变换后，标签依然能够被正确地定位，省去转换后手动打标签的繁琐工作。</p><h2 id="quickly-start" tabindex="-1"><a class="header-anchor" href="#quickly-start"><span>Quickly Start</span></a></h2><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> LocalAugment <span class="token keyword">as</span> LA
source_dir <span class="token operator">=</span> <span class="token string">&quot;dataset\\\\images&quot;</span>
output_dir <span class="token operator">=</span> <span class="token string">&quot;dataset\\\\images\\\\tested&quot;</span>
label_dir <span class="token operator">=</span> <span class="token string">&quot;dataset\\\\labels&quot;</span>
num_images <span class="token operator">=</span> <span class="token number">30</span>
trans <span class="token operator">=</span> LA<span class="token punctuation">.</span>Transformer<span class="token punctuation">(</span>source_dir<span class="token punctuation">,</span> output_dir<span class="token punctuation">,</span> label_dir<span class="token punctuation">,</span> num_images<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>开始使用该本地图像转换器之前，需要定义图片数据集路径、标签路径、转换后保存路径以及需要增强的图片数量。并且将其输入<code>Transformer()</code>类中生成实例化对象。</p><h2 id="增强转换器" tabindex="-1"><a class="header-anchor" href="#增强转换器"><span>增强转换器</span></a></h2><p><code>LocalAugment</code>提供了以下几种数据增强转换器</p><h3 id="crop-crop-size" tabindex="-1"><a class="header-anchor" href="#crop-crop-size"><span>Crop(crop_size)</span></a></h3><p>图像裁剪转换器</p><ul><li><code>crop_size: tuple(int)</code> 矩形裁剪的尺寸，具体到图像上的像素坐标，以 tuple 结构输入，依次存储为<code>(x1, x2, y1, y2)</code>，采用矩形左上角和右下角的坐标定位。</li></ul><p>经裁剪转换器处理后的图像会在其文件名后加入<code>_c</code>标识。</p><h3 id="rotate-angle-shuffle-true" tabindex="-1"><a class="header-anchor" href="#rotate-angle-shuffle-true"><span>Rotate(angle, shuffle=True)</span></a></h3><p>图像旋转转换器，该转换器默认以图像中心作为旋转中心，支持自定义旋转角度或采用随机角度。</p><ul><li><code>angle: int/tuple(int)</code> 指定旋转角度，角度制，正数为顺时针旋转，负数为逆时针旋转</li><li><code>shuffle: boolean</code> Bool 变量，指定是否采用随机角度值。当 <code>shuffle</code> 为 <code>True</code> 时，应将 <code>angle</code> 指定为<code>tuple</code>数组，规定随机角度的取值范围。随机角度值采取指定范围内的均匀分布。</li></ul><p>经旋转转换器处理后的图像会在其文件名后加入<code>_rot&lt;angle&gt;</code>标识。</p><h3 id="fliphorizontal" tabindex="-1"><a class="header-anchor" href="#fliphorizontal"><span>flipHorizontal()</span></a></h3><p>图像水平翻转转换器</p><p>经水平翻转转换器处理后的图像会在其文件名后加入<code>_hf</code>标识。</p><h3 id="randomfliphorizontal-p" tabindex="-1"><a class="header-anchor" href="#randomfliphorizontal-p"><span>randomFlipHorizontal(p)</span></a></h3><p>图像随机水平翻转转换器，该转换器支持自定义翻转概率 <code>p</code>。</p><ul><li><code>p: float</code> 指定翻转概率，取值范围为 <code>[0, 1]</code>，<code>p=1</code> 表示全部翻转，<code>p=0</code> 表示不翻转。</li></ul><p>经水平翻转转换器处理后的图像会在其文件名后加入<code>_hf</code>标识。</p><h3 id="flipvertical" tabindex="-1"><a class="header-anchor" href="#flipvertical"><span>flipVertical()</span></a></h3><p>图像垂直翻转转换器</p><p>经垂直翻转转换器处理后的图像会在其文件名后加入<code>_vf</code>标识。</p><h3 id="randomflipvertical-p" tabindex="-1"><a class="header-anchor" href="#randomflipvertical-p"><span>randomFlipVertical(p)</span></a></h3><p>图像随机垂直翻转转换器，该转换器支持自定义翻转概率 <code>p</code>。</p><ul><li><code>p: float</code> 指定翻转概率，取值范围为 <code>[0, 1]</code>，<code>p=1</code> 表示全部翻转，<code>p=0</code> 表示不翻转。</li></ul><p>经垂直翻转转换器处理后的图像会在其文件名后加入<code>_vf</code>标识。</p><h3 id="randomgammalight-dark-light" tabindex="-1"><a class="header-anchor" href="#randomgammalight-dark-light"><span>randomGammaLight(dark,light)</span></a></h3><p>图像亮度调整转换器</p><ul><li><code>dark: tuple(float)</code> 指定亮度调暗范围，取值范围为 <code>[0, 1]</code>，<code>dark=(0.2, 0.8)</code> 表示将亮度下调到 <code>0.2</code> 到 <code>0.8</code> 之间，视具体图片生成效果而定</li><li><code>light: tuple(int)</code> 指定亮度调亮范围，取值范围为 <code>[0, 10]</code>，<code>light=(2, 8)</code> 表示将亮度上调到 <code>2</code> 到 <code>8</code> 之间，视具体图片生成效果而定</li></ul><p>经亮度调整转换器处理后的图像会在其文件名后加入<code>_l</code>标识。</p><h3 id="randomgaussionnoise-noise-scale" tabindex="-1"><a class="header-anchor" href="#randomgaussionnoise-noise-scale"><span>randomGaussionNoise(noise_scale)</span></a></h3><p>图像高斯噪声随机添加转换器</p><ul><li><code>noise_scale: tuple(int)</code> 指定高斯噪声添加范围，默认为<code>(10,20)</code>，具体视图片生成效果而定</li></ul><p>经高斯噪声转换器处理后的图像会在其文件名后加入<code>_n</code>标识。</p><h3 id="resize-time-shuffle-true" tabindex="-1"><a class="header-anchor" href="#resize-time-shuffle-true"><span>Resize(time, shuffle=True)</span></a></h3><p>图像缩放转换器</p><ul><li><code>time: int/float</code> 图像缩放因子，<code>&gt;1</code>为放大比例系数，<code>&lt;1</code>为缩小比例系数</li><li><code>shuffle: boolean</code> Bool 变量，指定是否采用随机缩放比例系数。当 <code>shuffle</code> 为 <code>True</code> 时，应将 <code>time</code> 指定为<code>tuple</code>数组，规定随机缩放因子的取值范围。随机缩放因子采取指定范围内的均匀分布。</li></ul><p>经缩放转换器处理后的图像会在其文件名后加入<code>_res</code>标识。</p><h3 id="sharpen" tabindex="-1"><a class="header-anchor" href="#sharpen"><span>Sharpen()</span></a></h3><p>图像锐化转换器，利用拉普拉斯算子对图像进行锐化处理。</p><p>经锐化转换器处理后的图像会在其文件名后加入<code>_sh</code>标识。</p><h2 id="转换器串联" tabindex="-1"><a class="header-anchor" href="#转换器串联"><span>转换器串联</span></a></h2><p><code>Compose(func_list:list[func])</code></p><p><code>LocalAugment</code>提供了<code>Compose()</code>函数用于各类转换器的串联</p><h2 id="保存" tabindex="-1"><a class="header-anchor" href="#保存"><span>保存</span></a></h2><p><code>Save()</code></p><p>在运行完所有转换器之后，需要加入<code>Transformer.Save()</code>函数来保存增强后的图片。</p><h2 id="图片可视化" tabindex="-1"><a class="header-anchor" href="#图片可视化"><span>图片可视化</span></a></h2><p><code>Show(num_cols, num_rows)</code></p><p><code>LocalAugment</code>库提供了<code>Show()</code>函数来可视化增强后的图像，以便观察标签的跟踪是否正确。</p><ul><li><code>num_cols: int</code> 显示图片列数</li><li><code>num_rows: int</code> 显示图片行数</li></ul><blockquote><p>注意输入的图片总数不得超过增强数据集中的图片数目。</p></blockquote>`,56),s=[l];function c(i,p){return a(),o("div",null,s)}const u=e(t,[["render",c],["__file","LocalAugment.html.vue"]]),h=JSON.parse('{"path":"/code/python/LocalAugment.html","title":"LocalAugment","lang":"zh-CN","frontmatter":{"date":"2024-03-15T00:00:00.000Z","icon":"Augmentation","description":"LocalAugment 本 python 包用于深度学习的数据增强。不同于 torchvision.transforms()转换器，LocalAugment 提供在本地进行图像增强，并将增强后的图像保存在本地，以便于之后加入数据集中。 除此之外，LocalAugment在对图像变换的同时能够记录下数据集标签变换后的位置与大小，数据集标签采用矩形框中心...","head":[["meta",{"property":"og:url","content":"https://dream-oyh.github.io/code/python/LocalAugment.html"}],["meta",{"property":"og:site_name","content":"Dream_oyh 的 blog"}],["meta",{"property":"og:title","content":"LocalAugment"}],["meta",{"property":"og:description","content":"LocalAugment 本 python 包用于深度学习的数据增强。不同于 torchvision.transforms()转换器，LocalAugment 提供在本地进行图像增强，并将增强后的图像保存在本地，以便于之后加入数据集中。 除此之外，LocalAugment在对图像变换的同时能够记录下数据集标签变换后的位置与大小，数据集标签采用矩形框中心..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-15T08:34:40.000Z"}],["meta",{"property":"article:author","content":"OYH"}],["meta",{"property":"article:published_time","content":"2024-03-15T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-15T08:34:40.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"LocalAugment\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-03-15T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-15T08:34:40.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"OYH\\",\\"email\\":\\"19859860010@163.com\\"}]}"]]},"headers":[{"level":2,"title":"Quickly Start","slug":"quickly-start","link":"#quickly-start","children":[]},{"level":2,"title":"增强转换器","slug":"增强转换器","link":"#增强转换器","children":[{"level":3,"title":"Crop(crop_size)","slug":"crop-crop-size","link":"#crop-crop-size","children":[]},{"level":3,"title":"Rotate(angle, shuffle=True)","slug":"rotate-angle-shuffle-true","link":"#rotate-angle-shuffle-true","children":[]},{"level":3,"title":"flipHorizontal()","slug":"fliphorizontal","link":"#fliphorizontal","children":[]},{"level":3,"title":"randomFlipHorizontal(p)","slug":"randomfliphorizontal-p","link":"#randomfliphorizontal-p","children":[]},{"level":3,"title":"flipVertical()","slug":"flipvertical","link":"#flipvertical","children":[]},{"level":3,"title":"randomFlipVertical(p)","slug":"randomflipvertical-p","link":"#randomflipvertical-p","children":[]},{"level":3,"title":"randomGammaLight(dark,light)","slug":"randomgammalight-dark-light","link":"#randomgammalight-dark-light","children":[]},{"level":3,"title":"randomGaussionNoise(noise_scale)","slug":"randomgaussionnoise-noise-scale","link":"#randomgaussionnoise-noise-scale","children":[]},{"level":3,"title":"Resize(time, shuffle=True)","slug":"resize-time-shuffle-true","link":"#resize-time-shuffle-true","children":[]},{"level":3,"title":"Sharpen()","slug":"sharpen","link":"#sharpen","children":[]}]},{"level":2,"title":"转换器串联","slug":"转换器串联","link":"#转换器串联","children":[]},{"level":2,"title":"保存","slug":"保存","link":"#保存","children":[]},{"level":2,"title":"图片可视化","slug":"图片可视化","link":"#图片可视化","children":[]}],"git":{"createdTime":1710491680000,"updatedTime":1710491680000,"contributors":[{"name":"dream同学0","email":"1399541701@qq.com","commits":1}]},"readingTime":{"minutes":4.16,"words":1248},"filePathRelative":"code/python/LocalAugment.md","localizedDate":"2024年3月15日","excerpt":"\\n<p>本 python 包用于深度学习的数据增强。不同于 <code>torchvision.transforms()</code>转换器，<code>LocalAugment</code> 提供在本地进行图像增强，并将增强后的图像保存在本地，以便于之后加入数据集中。</p>\\n<p>除此之外，<code>LocalAugment</code>在对图像变换的同时能够记录下数据集标签变换后的位置与大小，数据集标签采用矩形框中心点与长宽的定位模式，能够保证图像在经过变换后，标签依然能够被正确地定位，省去转换后手动打标签的繁琐工作。</p>\\n<h2>Quickly Start</h2>\\n<div class=\\"language-python\\" data-ext=\\"py\\" data-title=\\"py\\"><pre class=\\"language-python\\"><code><span class=\\"token keyword\\">import</span> LocalAugment <span class=\\"token keyword\\">as</span> LA\\nsource_dir <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"dataset\\\\\\\\images\\"</span>\\noutput_dir <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"dataset\\\\\\\\images\\\\\\\\tested\\"</span>\\nlabel_dir <span class=\\"token operator\\">=</span> <span class=\\"token string\\">\\"dataset\\\\\\\\labels\\"</span>\\nnum_images <span class=\\"token operator\\">=</span> <span class=\\"token number\\">30</span>\\ntrans <span class=\\"token operator\\">=</span> LA<span class=\\"token punctuation\\">.</span>Transformer<span class=\\"token punctuation\\">(</span>source_dir<span class=\\"token punctuation\\">,</span> output_dir<span class=\\"token punctuation\\">,</span> label_dir<span class=\\"token punctuation\\">,</span> num_images<span class=\\"token punctuation\\">)</span>\\n</code></pre></div>","autoDesc":true}');export{u as comp,h as data};

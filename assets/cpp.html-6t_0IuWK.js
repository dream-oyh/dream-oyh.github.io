import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as o,o as u,c as d,d as a,b as n,a as l,w as e,e as m}from"./app-DZBbp9UH.js";const k={},g=a("h1",{id:"c",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#c"},[a("span",null,"C++")])],-1),h=a("p",null,"我采用 Xmake 作为 C++ 项目的构建、包管理工具。",-1),v=a("h2",{id:"xmake",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#xmake"},[a("span",null,"Xmake")])],-1),b={href:"https://xmake.io/#/",target:"_blank",rel:"noopener noreferrer"},_=a("p",null,[n("Xmake 是基于 Lua 的 Cpp 构建工具，更准确地来说应该包括三个部分，即："),a("em",null,"Build backend + Project Generator + Package Manager"),n("，简单来说，它实现了 c++ 项目的构建和包管理。")],-1),x=a("h3",{id:"基本操作",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#基本操作"},[a("span",null,"基本操作")])],-1),f=a("p",null,[a("strong",null,[a("em",null,"Install")])],-1),q=a("p",null,"scoop 一行即可搞定",-1),C=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[n("scoop "),a("span",{class:"token function"},"install"),n(` xmake
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),y=a("p",null,"官网还提供了利用终端的安装方法",-1),E=a("div",{class:"language-bash line-numbers-mode","data-ext":"sh","data-title":"sh"},[a("pre",{class:"language-bash"},[a("code",null,[n("Invoke-Expression "),a("span",{class:"token punctuation"},"("),n("Invoke-Webrequest "),a("span",{class:"token string"},"'https://xmake.io/psget.text'"),n(" -UseBasicParsing"),a("span",{class:"token punctuation"},")"),n(`.Content
`)])]),a("div",{class:"line-numbers","aria-hidden":"true"},[a("div",{class:"line-number"})])],-1),X=m(`<p><strong><em>Basic command</em></strong></p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>xmake create <span class="token parameter variable">-l</span> c <span class="token parameter variable">-P</span> ./<span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span> <span class="token comment"># create project</span>
xmake <span class="token comment"># build project</span>
xmake run <span class="token operator">&lt;</span>project-name<span class="token operator">&gt;</span> <span class="token comment"># run project</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其构建项目的逻辑如下图所示（来自官网）：</p><figure><img src="https://xmake.io/assets/img/index/package_arch.png" alt="" width="300" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="lua" tabindex="-1"><a class="header-anchor" href="#lua"><span>Lua</span></a></h3><p>Lua 是 Xmake 编译程序用到的语言，个人感觉不用特意去学，只需要在平常多用多理解就好。在 Xmake 创建项目之后，会自动生成文件结构如下：</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>hello
├── src
│   └── main.c
└── xmake.lua
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中，<code>xmake.lua</code> 文件是 Xmake 的配置文件，简单来说，在我们从<code>.cpp</code>文件生成至<code>.exe</code>文件过程中，他会起作用。Lua 文件由两部分构成，以<code>target()</code>作为分界线，一个最简单最基本的 lua 程序长成这个样子：</p><div class="language-lua line-numbers-mode" data-ext="lua" data-title="lua"><pre class="language-lua"><code><span class="token function">target</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span>
    <span class="token function">set_kind</span><span class="token punctuation">(</span><span class="token string">&quot;binary&quot;</span><span class="token punctuation">)</span>
    <span class="token function">add_files</span><span class="token punctuation">(</span><span class="token string">&quot;src/*.c&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="包管理" tabindex="-1"><a class="header-anchor" href="#包管理"><span>包管理</span></a></h3><p>Xmake 内置 Xrepo 作为包管理器，基本操作如下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>xrepo <span class="token function">install</span> zlib tbox <span class="token comment"># basic install</span>
xrepo <span class="token function">install</span> <span class="token string">&quot;zlib 1.2.x&quot;</span> <span class="token comment"># install specific version</span>
xrepo <span class="token function">install</span> <span class="token parameter variable">-m</span> debug zlib <span class="token comment"># install the debug version</span>
xrepo <span class="token function">install</span> brew::zlib <span class="token comment"># Install packages from third-party package manager</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Seamless integration with xmake project</li></ul><p><em>example</em>:</p><div class="language-lua line-numbers-mode" data-ext="lua" data-title="lua"><pre class="language-lua"><code><span class="token function">add_requires</span><span class="token punctuation">(</span><span class="token string">&quot;tbox &gt;1.6.1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;libuv master&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vcpkg::ffmpeg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brew::pcre2/libpcre2-8&quot;</span><span class="token punctuation">)</span>
<span class="token function">add_requires</span><span class="token punctuation">(</span><span class="token string">&quot;conan::openssl/1.1.1g&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>alias <span class="token operator">=</span> <span class="token string">&quot;openssl&quot;</span><span class="token punctuation">,</span> optional <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">,</span> debug <span class="token operator">=</span> <span class="token keyword">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">target</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span>
     <span class="token function">set_kind</span><span class="token punctuation">(</span><span class="token string">&quot;binary&quot;</span><span class="token punctuation">)</span>
     <span class="token function">add_files</span><span class="token punctuation">(</span><span class="token string">&quot;src/*.c&quot;</span><span class="token punctuation">)</span>
     <span class="token function">add_packages</span><span class="token punctuation">(</span><span class="token string">&quot;tbox&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;libuv&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vcpkg::ffmpeg&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brew::pcre2/libpcre2-8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;openssl&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15);function A(w,B){const p=o("RouteLink"),c=o("ExternalLinkIcon"),i=o("Tabs");return u(),d("div",null,[g,h,a("p",null,[n("C++ 的开发也秉持 All in VScode 的原则，插件设置可以看"),l(p,{to:"/code/vscode.html#c-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"},{default:e(()=>[n("这里")]),_:1})]),v,a("p",null,[a("a",b,[n("官网"),l(c)])]),_,x,f,l(i,{id:"24",data:[{id:"scoop"},{id:"powershell"}]},{title0:e(({value:s,isActive:t})=>[n("scoop")]),title1:e(({value:s,isActive:t})=>[n("powershell")]),tab0:e(({value:s,isActive:t})=>[q,C]),tab1:e(({value:s,isActive:t})=>[y,E]),_:1}),X])}const T=r(k,[["render",A],["__file","cpp.html.vue"]]),j=JSON.parse('{"path":"/code/cpp.html","title":"C++","lang":"zh-CN","frontmatter":{"date":"2024-03-18T00:00:00.000Z","icon":"code","description":"C++ 我采用 Xmake 作为 C++ 项目的构建、包管理工具。 C++ 的开发也秉持 All in VScode 的原则，插件设置可以看 Xmake 官网 Xmake 是基于 Lua 的 Cpp 构建工具，更准确地来说应该包括三个部分，即：Build backend + Project Generator + Package Manager，简单来...","head":[["meta",{"property":"og:url","content":"https://dream-oyh.github.io/code/cpp.html"}],["meta",{"property":"og:site_name","content":"Dream_oyh 的 blog"}],["meta",{"property":"og:title","content":"C++"}],["meta",{"property":"og:description","content":"C++ 我采用 Xmake 作为 C++ 项目的构建、包管理工具。 C++ 的开发也秉持 All in VScode 的原则，插件设置可以看 Xmake 官网 Xmake 是基于 Lua 的 Cpp 构建工具，更准确地来说应该包括三个部分，即：Build backend + Project Generator + Package Manager，简单来..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://xmake.io/assets/img/index/package_arch.png =300x"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-03-18T16:38:42.000Z"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"C++"}],["meta",{"property":"article:author","content":"OYH"}],["meta",{"property":"article:published_time","content":"2024-03-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-03-18T16:38:42.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"C++\\",\\"image\\":[\\"https://xmake.io/assets/img/index/package_arch.png =300x\\"],\\"datePublished\\":\\"2024-03-18T00:00:00.000Z\\",\\"dateModified\\":\\"2024-03-18T16:38:42.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"OYH\\",\\"email\\":\\"19859860010@163.com\\"}]}"]]},"headers":[{"level":2,"title":"Xmake","slug":"xmake","link":"#xmake","children":[{"level":3,"title":"基本操作","slug":"基本操作","link":"#基本操作","children":[]},{"level":3,"title":"Lua","slug":"lua","link":"#lua","children":[]},{"level":3,"title":"包管理","slug":"包管理","link":"#包管理","children":[]}]}],"git":{"createdTime":1710779250000,"updatedTime":1710779922000,"contributors":[{"name":"dream同学0","email":"1399541701@qq.com","commits":2}]},"readingTime":{"minutes":1.43,"words":430},"filePathRelative":"code/cpp.md","localizedDate":"2024年3月18日","excerpt":"\\n<p>我采用 Xmake 作为 C++ 项目的构建、包管理工具。</p>\\n<p>C++ 的开发也秉持 All in VScode 的原则，插件设置可以看<a href=\\"/code/vscode.html#c-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE\\" target=\\"_blank\\">这里</a></p>\\n<h2>Xmake</h2>\\n<p><a href=\\"https://xmake.io/#/\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">官网</a></p>\\n<p>Xmake 是基于 Lua 的 Cpp 构建工具，更准确地来说应该包括三个部分，即：<em>Build backend + Project Generator + Package Manager</em>，简单来说，它实现了 c++ 项目的构建和包管理。</p>","autoDesc":true}');export{T as comp,j as data};

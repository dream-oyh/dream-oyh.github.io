import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r,o as a,c,d as e,b as t,a as n,e as l}from"./app-eDBL6x-s.js";const i={},d=e("h1",{id:"websocket",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#websocket"},[e("span",null,"Websocket")])],-1),h=e("p",null,[t("突然想学这个包是因为我院测试技术与信号处理课程作业，老师给出的题目是：“调用手机中的传感器，显示参数的动态变化”，经过一番搜索我发现了 python 中"),e("code",null,"websocket"),t("这个包，可以实现实时的手机传感器数据传输。")],-1),p=e("h2",{id:"sensor-server",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#sensor-server"},[e("span",null,"Sensor Server")])],-1),u={href:"https://github.com/umer0586/SensorServer",target:"_blank",rel:"noopener noreferrer"},_=e("p",null,[t("Github 提供了一个开源的 Android apk，名为：“Sensor Server”，可以用来提供移动端传感器接口，利用"),e("code",null,"ws"),t("互联网协议传输数据。移动端启动后，会提供一个 url，我们需要保证 PC 和移动端均连接到该 url 上。")],-1),m=e("div",{class:"language-text line-numbers-mode","data-ext":"text","data-title":"text"},[e("pre",{class:"language-text"},[e("code",null,`ws://<ip>:<port>/sensor/connect?type=<type dir>
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),b=e("code",null,"type",-1),g=e("code",null,"Sensor Server",-1),k=e("code",null,"type",-1),v=e("code",null,"accelerometer-bma422",-1),y=e("code",null,"type",-1),S=e("code",null,"android.sensor.accelerometer",-1),w={href:"https://livepersoninc.github.io/ws-test-page/",target:"_blank",rel:"noopener noreferrer"},f=e("code",null,"url",-1),x=e("code",null,"ws",-1),T=e("code",null,"connect",-1),P={class:"hint-container details"},C=e("summary",null,"报错解决：an inscure WebSocket connection may not be initiated from a page loaded over HTTPS",-1),G=e("p",null,[t("我在 edge 浏览器打开测试网页后，输入正确的 "),e("code",null,"url"),t(" 后，连接不成功，但是我在移动端的火狐浏览器上是可以成功连接的，此时 PC 端报错为：")],-1),W=e("div",{class:"language-text line-numbers-mode","data-ext":"text","data-title":"text"},[e("pre",{class:"language-text"},[e("code",null,`Failed to construct 'WebSocket': An insecure WebSocket connection may not be initiated from a page loaded over HTTPS
`)]),e("div",{class:"line-numbers","aria-hidden":"true"},[e("div",{class:"line-number"})])],-1),N={href:"https://stackoverflow.com/questions/28625351/uncaught-securityerror-failed-to-construct-websocket-an-insecure-websocket-c",target:"_blank",rel:"noopener noreferrer"},A=e("code",null,"url",-1),Z=e("code",null,"wss://",-1),z=e("code",null,"connecting",-1),H=e("code",null,"url",-1),V=e("p",null,[e("s",null,"省流：edge 不如 Chrome。")],-1),q=l(`<h2 id="websocket-1" tabindex="-1"><a class="header-anchor" href="#websocket-1"><span>websocket</span></a></h2><h3 id="usage" tabindex="-1"><a class="header-anchor" href="#usage"><span>Usage</span></a></h3><p>websocket 为 python 的第三方库，需要安装，用 poetry 做包管理器：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>poetry <span class="token function">add</span> websocket
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,4);function B(D,E){const o=r("ExternalLinkIcon");return a(),c("div",null,[d,h,p,e("p",null,[e("a",u,[t("Sensor Server 的 Github 仓库链接"),n(o)])]),_,m,e("p",null,[t("链接中的参数"),b,t("即表示传感器接口，"),g,t("中提供了一系列传感器接口的"),k,t("，如对于"),v,t("传感器，其"),y,t("为"),S,t("。"),e("a",w,[t("该网址"),n(o)]),t("提供了一个 web 端接口，用来测试传感器数据传输是否正常，打开网页后在"),f,t("栏中输入上述"),x,t("地址，点击"),T,t("后，即可连接至移动端，并且实时读取传感器数据。")]),e("details",P,[C,G,W,e("p",null,[t("我去 Google 直接查了报错，查到了"),e("a",N,[t("这篇文章"),n(o)]),t("，然后我跟着这篇文章将"),A,t("地址改为"),Z,t("后，edge 一直显示"),z,t("，但是始终连接不上移动端，结合这篇文章的思路，我怀疑是浏览器拦截了传输，于是在 Chrome 中打开测试网站，将原来的"),H,t("填入，关闭网络代理后，PC 端与移动端连接成功。")]),V]),q])}const L=s(i,[["render",B],["__file","websocket.html.vue"]]),U=JSON.parse('{"path":"/code/python/websocket.html","title":"Websocket","lang":"zh-CN","frontmatter":{"date":"2024-02-27T00:00:00.000Z","icon":"bianzubeifen8","category":"Python 库","tag":"教程","description":"Websocket 突然想学这个包是因为我院测试技术与信号处理课程作业，老师给出的题目是：“调用手机中的传感器，显示参数的动态变化”，经过一番搜索我发现了 python 中websocket这个包，可以实现实时的手机传感器数据传输。 Sensor Server Sensor Server 的 Github 仓库链接 Github 提供了一个开源的 An...","head":[["meta",{"property":"og:url","content":"https://dream-oyh.github.io/code/python/websocket.html"}],["meta",{"property":"og:site_name","content":"Dream_oyh 的 blog"}],["meta",{"property":"og:title","content":"Websocket"}],["meta",{"property":"og:description","content":"Websocket 突然想学这个包是因为我院测试技术与信号处理课程作业，老师给出的题目是：“调用手机中的传感器，显示参数的动态变化”，经过一番搜索我发现了 python 中websocket这个包，可以实现实时的手机传感器数据传输。 Sensor Server Sensor Server 的 Github 仓库链接 Github 提供了一个开源的 An..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-02-27T15:50:42.000Z"}],["meta",{"property":"article:author","content":"OYH"}],["meta",{"property":"article:tag","content":"教程"}],["meta",{"property":"article:published_time","content":"2024-02-27T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-02-27T15:50:42.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Websocket\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-02-27T00:00:00.000Z\\",\\"dateModified\\":\\"2024-02-27T15:50:42.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"OYH\\",\\"email\\":\\"19859860010@163.com\\"}]}"]]},"headers":[{"level":2,"title":"Sensor Server","slug":"sensor-server","link":"#sensor-server","children":[]},{"level":2,"title":"websocket","slug":"websocket-1","link":"#websocket-1","children":[{"level":3,"title":"Usage","slug":"usage","link":"#usage","children":[]}]}],"git":{"createdTime":1709049042000,"updatedTime":1709049042000,"contributors":[{"name":"dream同学0","email":"1399541701@qq.com","commits":1}]},"readingTime":{"minutes":1.8,"words":540},"filePathRelative":"code/python/websocket.md","localizedDate":"2024年2月27日","excerpt":"\\n<p>突然想学这个包是因为我院测试技术与信号处理课程作业，老师给出的题目是：“调用手机中的传感器，显示参数的动态变化”，经过一番搜索我发现了 python 中<code>websocket</code>这个包，可以实现实时的手机传感器数据传输。</p>\\n<h2>Sensor Server</h2>\\n<p><a href=\\"https://github.com/umer0586/SensorServer\\" target=\\"_blank\\" rel=\\"noopener noreferrer\\">Sensor Server 的 Github 仓库链接</a></p>\\n<p>Github 提供了一个开源的 Android apk，名为：“Sensor Server”，可以用来提供移动端传感器接口，利用<code>ws</code>互联网协议传输数据。移动端启动后，会提供一个 url，我们需要保证 PC 和移动端均连接到该 url 上。</p>","autoDesc":true}');export{L as comp,U as data};
